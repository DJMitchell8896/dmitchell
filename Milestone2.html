<html> 
<body> 
<head>
<style>
h1 {text-align: center;}
h2 {text-align: center;}
</style>
</head>

<h1>Kennesaw State University</h1>
<h2> Dejuan Mitchell</h2>

<h3> Site Overview and Purpose</h3>  
<p>Milestone 2.</p>  

  
<p><a href="https://ccse.kennesaw.edu/it/">CCSE KSU Computing Website</a></p>  
<p><a href="https://github.com/DJMitchell8896/dmitchell">Github Repository Pages</a></p>  

 
</body>
  <body>
    <h4> Table of Contents</h4>
      <ul>
        <li><a href="index.html">Milestone 1</a></li>  
        <li><a href="Milestone2.html">Milestone 2</a></li>  
        <li><a href="Milestone3.html">Milestone 3</a></li>  
        <li><a href="Milestone4.html">Milestone 4</a></li> 
 </body> 
    
    
    
    
    
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {box-sizing: border-box}

/* Set height of body and the document to 100% */
body, html {
  height: 100%;
  margin: 0;
  font-family: Arial;
}

/* Style tab links */
.tablink {
  background-color: #555;
  color: black;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  font-size: 17px;
  width: 25%;
}

.tablink:hover {
  background-color: #777;
}

/* Style the tab content (and add height:100% for full page content) */
.tabcontent {
  color: black;
  display: none;
  padding: 100px 20px;
  height: 100%;
}

</style>
</head>
<body>

<button class="tablink" onclick="openPage('Home')">Home - Book Search</button>
<button class="tablink" onclick="openPage('News')" id="defaultOpen">My BookShelf</button>


<div id="Home" class="tabcontent">
  <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Book Test</title>
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        
    </head>
    <body>
        <br>
        <div class='container'>
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon1">Search book</span>
                <input id="input" type="text" class="form-control">
            </div>
            <br>
            <div class="panel panel-default">
                <div class="panel-body" id="previews"></div>
            </div>
            
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            $('#input').bind('input', startTimerAction);
            
            previewTemplate="<div class='preview-div'>\
                                <div class='image-div'>\
                                    <img class='img-responsive fotina'/>\
                                </div>\
                                <p class='info'>\
                                        <strong><span class='title'></span></strong></br>\
                                        <span class='authors'></span></br>\
                                        <span class='publish'></span>\
                                <p>\
                             </div>"
             

            function googleBookRequest(query,successCallback,failCallback){        
                var url =  "https://www.googleapis.com/books/v1/volumes?q=" + search + "&maxResults=40&startIndex=";
                var q = '';        
                var standard = ["intitle","inauthor","inpublisher","subject","isbn","lccn","oclc"];

                //search params
                if(query.all)
                    q += query.all;
                /*
                * insert all key->value in query
                * using google standard 
                */
                for( var key in query ){
                    if(key == 'all')
                        continue;
                    if(key in standard)
                        q += '+'+key+':'+query[key];         
                }
                
                for(var key in query){
                    if(key == 'all')
                        continue;
                    q += '&'+key+'='+query[key];
                }
                
                if(!q)
                    return;

                console.log("Query to Google Books: \n"+JSON.stringify(query));
                                
                url += 'q='+q;

                $.ajax({
                    dataType: "json",
                    url: url,
                    success: successCallback,
                    fail: failCallback
                });
            }

            function filterGoogleBook(googleBook){
                var filtered = {};                
                filtered.title = googleBook.title;
                filtered.authors = googleBook.authors;
                filtered.thumbnail = '';
                filtered.publish = '';
                
                //thumbnail
                if(googleBook.imageLinks &&
                   googleBook.imageLinks.thumbnail)                
                        filtered.thumbnail = googleBook.imageLinks.thumbnail;
                
                //published (parse date)      
                if(googleBook.publishedDate){                  
                    var date = new Date(googleBook.publishedDate);
                    var year = date.getFullYear(date);
                    filtered.publish = year +' ';
                }
                if(googleBook.publisher)                    
                    filtered.publish += googleBook.publisher;
                
                return filtered;
            }
        
            var currTimer;

            function startTimerAction(){
                var query = $("#input").val();
                if (currTimer)
                    window.clearTimeout(currTimer);
                if(query){
                    var googleReq = {'all':query,
                                     'projection':'lite',
                                     'maxItems':15
                                    };
                    currTimer = window.setTimeout( function () { googleBookRequest(googleReq,onQuerySuccess,onQueryFail) }, 1500);
                        
                }else
                    cleanResults();
            }

            function onQuerySuccess(data){
                cleanResults();
                $('#results').html("<pre>"+JSON.stringify(data, null, " ")+"</pre>");
                if(! data.items)
                    return;
                
                var totalResults = data.items.length;              
                for(i=0; i<totalResults; i++){
                    var googleBook = data.items[i].volumeInfo
                    addPreview(filterGoogleBook(googleBook));
                }
            }

            function onQueryFail(){
                cleanResults();
            }

            function addPreview(book){
           
                var newPreview = $(previewTemplate);
                if(book.thumbnail){
                    newPreview.find('.fotina').attr("src",book.thumbnail);
                }else{
                    newPreview.find('.fotina').hide();
                    bookIcon = $(svgBookIcon);
                    newPreview.find('.image-div').append(bookIcon);
                }
                newPreview.find('.title').html(book.title);
                newPreview.find('.authors').html(book.authors);
                newPreview.find('.publish').html(book.publish);
                newPreview.tooltip({html:true,
                                    placement: "auto",
                                    title:
                                        "<strong>"+book.title+"</strong><br>"+
                                        book.authors+"<br>"+
                                        book.publish});
                newPreview.hide();
                $('#previews').append(newPreview);
                newPreview.fadeIn('slow');
            }
            
            function cleanResults(){
                $('#previews').html("");
                $('#results').html("");
            }
        </script>
    </body>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </div>


  
  
  
  
  
  
  
  
 <div id="News" class="tabcontent">
  <h3>News</h3>
  <p>Some news this fine day!</p> 
</div>

<div id="Contact" class="tabcontent">
  <h3>Contact</h3>
  <p>Get in touch, or swing by for a cup of coffee.</p>
</div>

<div id="About" class="tabcontent">
  <h3>About</h3>
  <p>Who we are and what we do.</p>
</div>

<script>
function openPage(pageName,elmnt,color) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablink");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].style.backgroundColor = "";
  }
  document.getElementById(pageName).style.display = "block";
  elmnt.style.backgroundColor = color;
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>
   
</body>
        
</html>
